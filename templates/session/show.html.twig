{% extends 'base.html.twig' %}

{% block body %}
<div class="p-6">
  <h1 class="text-2xl font-bold mb-4">Détails de la session #{{ session.id }}</h1>

  <dl class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div>
      <dt class="font-medium">Formation</dt>
      <dd>{{ session.formation.titre }}</dd>
    </div>
    <div>
      <dt class="font-medium">Formateur responsable</dt>
      <dd>{{ session.formateurResponsable.prenom }} {{ session.formateurResponsable.nom }}</dd>
    </div>
    <div>
      <dt class="font-medium">Date de début</dt>
      <dd>{{ session.dateDebut|date('d/m/Y H:i') }}</dd>
    </div>
    <div>
      <dt class="font-medium">Date de fin</dt>
      <dd>{{ session.dateFin|date('d/m/Y H:i') }}</dd>
    </div>
    <div>
      <dt class="font-medium">Lieu</dt>
      <dd>{{ session.lieu }}</dd>
    </div>
    <div>
      <dt class="font-medium">Modalité</dt>
      <dd>{{ session.modalite }}</dd>
    </div>
    {% if session.remarques %}
      <div class="md:col-span-2">
        <dt class="font-medium">Remarques</dt>
        <dd>{{ session.remarques }}</dd>
      </div>
    {% endif %}
    <div>
      <dt class="font-medium">Actif</dt>
      <dd>{{ session.isIsActive() ? 'Oui' : 'Non' }}</dd>
    </div>
  </dl>

  <div class="mt-8 flex items-center gap-4">
    <a href="{{ path('session_edit', {'id': session.id}) }}" class="btn btn-outline">Modifier</a>

    <form
      method="post"
      action="{{ path('session_delete', {'id': session.id}) }}"
      onsubmit="return confirm('Supprimer cette session ?');"
    >
      <input type="hidden" name="_token" value="{{ csrf_token('delete_session_' ~ session.id) }}" />
      <button class="btn btn-error" type="submit">Supprimer</button>
    </form>

    <a href="{{ path('formation_index') ~ '#sessions' }}" class="btn btn-primary">Retour à la liste</a>
  </div>
</div>
{% endblock %}
